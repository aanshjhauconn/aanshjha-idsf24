---
title: "Aansh Jha Homework 5"
format:
  pdf:
    code-fold: false
jupyter: python3
---
```{python}
import pandas as pd

## Thanks Mohammad Shahriyar Parvez for filling the missing zip codes
crashes = pd.read_csv("data/cleaned_nyccrashes_msp.csv")

crashes['zip_code'].isnull().sum()

## Save into feather format
crashes.to_feather('data/nyccrashes_cleaned.feather')
```

# 1. Construct a contigency table for missing in geocode (latitude and longitude) by borough. Is the missing pattern the same across boroughs? Formulate a hypothesis and test it.

# 2. Construct a hour variable with integer values from 0 to 23. Plot the histogram of the number of crashes by hour. Plot it by borough.

# 3. Overlay the locations of the crashes on a map of NYC. The map could be a static map or Google map.

# 4. Create a new variable severe which is one if the number of persons injured of deaths is 1 or more; and zero otherwise. Construct a cross table for severe versus borough. Is the severity of the crashes the same across boroughs? Test the null hypothesis that the two variables are not associated with an appropriate test.

# 5. Merge the crash data with the zip code database.

# 6. Fit a logistic model with severe as the outcome variable and covariates that are available in the data or can be engineered from the data. For example, zip code level covariates can be obtained by merging with the zip code database.

